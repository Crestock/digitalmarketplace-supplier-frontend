{% extends "toolkit/layouts/_base_page.html" %}

{% block page_title %}Company registration number â€“ Digital Marketplace{% endblock %}

{% block breadcrumb %}
  {% with items = [
    {
      "link": "/",
      "label": "Digital Marketplace"
    },
    {
       "link": url_for('.dashboard'),
       "label": "Your account"
    },
    {
      "link": url_for('.supplier_details'),
      "label": "Company details"
    },
  ] %}
    {% include "toolkit/breadcrumb.html" %}
  {% endwith %}
{% endblock %}

{% block main_content %}
{% include "toolkit/forms/validation.html" %}

<div class="single-question-page">
  <div class="grid-row">
    <div class="column-two-thirds">
      {% with heading = "Are you registered with Companies House?", smaller = True %}
        {% include "toolkit/page-heading.html" %}
      {% endwith %}

      <form method="POST" action="{{ url_for('.edit_supplier_registration_number') }}">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>

        {# TODO: implement reveal in DMRadioField so we can reduce the verbosity #}

        {%
          with
          name = form.has_companies_house_number.name,
          type = form.has_companies_house_number.type,
          value = form.has_companies_house_number.value,
          error = form.has_companies_house_number.error,
          options = [
          {
              "label": "Yes",
              "reveal": {
                "name": form.companies_house_number.name,
                "question": form.companies_house_number.question,
                "hint": form.companies_house_number.hint,
                "value": form.companies_house_number.value,
                "error": form.companies_house_number.error,
              }
          },
          {
              "label": "No",
              "reveal": {
                "name": form.other_company_registration_number.name,
                "question": form.other_company_registration_number.question,
                "hint": form.other_company_registration_number.hint,
                "value": form.other_company_registration_number.value,
                "error": form.other_company_registration_number.error,
              }
          }
        ]
      %}
        {% include "toolkit/forms/selection-buttons.html" %}
      {% endwith %}

        {% with type = "save",
                label = "Save and return" %}
          {% include "toolkit/button.html" %}
        {% endwith %}

        <p><a href="{{ url_for('.supplier_details') }}">Return to company details</a></p>
      </form>
    </div>
  </div>
</div>

{% endblock %}
