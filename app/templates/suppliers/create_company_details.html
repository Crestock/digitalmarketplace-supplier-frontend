{% extends "suppliers/layout.html" %}
{% from "components/breadcrumbs/macro.njk" import govukBreadcrumbs %}
{% from "components/button/macro.njk" import govukButton %}
{% from "components/input/macro.njk" import govukInput %}
{% from "components/error-summary/macro.njk" import govukErrorSummary %}

{% block pageTitle %}Company details – Create a supplier account – Digital Marketplace{% endblock %}

{% block beforeContent %}
{{
  govukBreadcrumbs({
    'items': [
      {
        'href': '/',
        'text': 'Digital Marketplace'
      },
      {
        'href': url_for('.become_a_supplier'),
        'text': 'Become a supplier'
      },
      {
        'href': url_for('.create_new_supplier'),
        'text': 'Create an account'
      }
    ]
  })
}}
{% endblock %}

{% block mainContent %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    {% if errors %}
      {{
        govukErrorSummary({
          'titleText': lede or 'There is a problem',
          'descriptionText': description,
          'errorList': govuk_errors(errors)
        })
      }}
    {% endif %}

    <h1 class="govuk-heading-l">What buyers will see</h1>

    <p class="govuk-body">This information will be visible on the Digital Marketplace.</p>

    <form method="POST" action="{{ url_for('.company_details') }}">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>

      {{
        govukInput({
          'id': 'input-company_name',
          'name': 'company_name',
          'label': {
            'text': 'Company name',
            'classes': 'govuk-!-margin-top-6 govuk-label--s'
          },
          'value': form.company_name.data,
          'hint': {
            'text': 'This is how buyers will see your company’s name on the Digital Marketplace'
          },
          'errorMessage': govuk_error(errors.get("company_name", {}))
        })
      }}

      {{
        govukInput({
          'id': 'input-contact_name',
          'name': 'contact_name',
          'label': {
            'text': 'Contact name',
            'classes': 'govuk-label--s'
          },
          'value': form.contact_name.data,
          'hint': {
            'text': 'This can be the name of the person or team you want buyers to contact'
          },
          'errorMessage': govuk_error(errors.get("contact_name", {}))
        })
      }}

      {{
        govukInput({
          'id': 'input-email_address',
          'name': 'email_address',
          'type': 'email',
          'label': {
            'text': 'Contact email address',
            'classes': 'govuk-label--s'
          },
          'value': form.email_address.data,
          'hint': {
            'text': 'This is the email buyers will use to contact you'
          },
          'errorMessage': govuk_error(errors.get("email_address", {}))
        })
      }}

      {{
        govukInput({
          'id': 'input-phone_number',
          'name': 'phone_number',
          'type': 'tel',
          'label': {
            'text': 'Contact phone number',
            'classes': 'govuk-label--s'
          },
          'value': form.phone_number.data,
          'errorMessage': govuk_error(errors.get("phone_number", {}))
        })
      }}

      {{
        govukButton({
          'text': 'Save and continue'
        })
      }}

    </form>
  </div>
</div>

{% endblock %}
